{% extends 'base.html' %}
{% load i18n %}

{% block content %}
{% if not user.is_authenticated %}
<div class="container-fluid" style="background-color: aliceblue; padding: 40px; padding-top: 20px;">
    <h class="display-6">{% trans "Premium is only available for registered users." %} <a href="{% url 'login' %}">{% trans "Sign in " %}</a>{% trans "and try again." %}</h>
</div>
{% else %}
{% if not user.is_premium %}
<div class="container-fluid" style="background-color: aliceblue; padding: 40px;">
    <h1 style="color: #50586C;">{% trans "Premium" %}</h1>
    <p style="color: #50586C;">
        {% trans "What you get with premium:" %}
    </p>
    <ol>
        <li class="feature">
            {% trans "Expanded Language Options: Premium users can translate poetry between a wider range of languages" %}
        </li>
        <li class="feature">
            {% trans "You get your own premium badge on your profile" %}
        </li>
        <li class="feature">
            {% trans "And many more..." %}
        </li>
    </ol>

    <form action="{% url 'get_premium' %}" method="post" id="premium-form">
        {% csrf_token %}
        <div class="stage">
            <button class="button_get_premium" style="line-height: 25px;" type="submit" onclick="submitForm()">
                {% trans "Try out for free!" %}
            </button>
        </div>
    </form>
</div>

<script>
    function submitForm() {
        window.open('https://www.youtube.com/watch?v=xvFZjo5PgG0&ab_channel=Duran', '_blank');
        document.getElementById("premium-form").submit();
    }
</script>

{% else %}
<div class="container-fluid" style="background-color: aliceblue; padding: 40px;">
    <h1 style="color: #50586C;">Never give up, premium user {{ user.username }}!</h1>
    <div class="thank_you_premium" style="font-size: 32px;">
        <p>
            {% trans "Thanks for upgrading to premium! Enjoy all the features we have to offer!" %}
        </p>
    </div>
    <form action="{% url 'cancel_premium' %}" method="post">
        {% csrf_token %}
        <button style="margin-top: 20px;" class="btn btn-outline-danger" type="submit">
            {% trans "Cancel Premium Status" %}
        </button>
    </form>
</div>

{% endif %}
{% endif %}
{% endblock %}